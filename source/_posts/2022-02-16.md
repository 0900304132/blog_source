---
title: 内部函数
date: 2022-02-16 19:23:00
tags: ['js']
categories: ['前端']
---

# 内部函数

JavaScript 允许在一个函数内部定义函数, 这一点我们在之前的`makePerson()`例子中也见过. 关于 JavaScript 中的嵌套函数, 一个很重要的细节是, 它们可以访问父函数作用域中的变量:

```js
function parentFunc() {
  var a = 1

  function nestedFunc() {
    var b = 4 // parentFunc 无法访问 b
    return a + b
  }

  return nestedFunc()
}
```

如果某个函数依赖于其他的一两个函数, 而这一两个函数对你其余的代码没有用处, 你可以将它们嵌套在会被调用的那个函数内部, 这样做可以减少全局作用域下的函数的数量, 这有利于编写易于维护的代码.

这也是一个减少使用全局变量的好方法。当编写复杂代码时，程序员往往试图使用全局变量，将值共享给多个函数，但这样做会使代码很难维护。内部函数可以共享父函数的变量，所以你可以使用这个特性把一些函数捆绑在一起，这样可以有效地防止“污染”你的全局命名空间——你可以称它为“局部全局（local global）”。虽然这种方法应该谨慎使用，但它确实很有用，应该掌握。
